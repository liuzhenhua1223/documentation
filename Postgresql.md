# 第一章 数据库系统概述

- 数据库技术
  - 数据库管理技术是组织或企业管理各类信息资源，几乎所有的领域都在采用数据库进行信息资源的存储和处理，因此数据库建设规模，是国家重要的`标识`

## 数据库的基本概念

### 数据（Data）

- 数据有多种表现形式，可以包括数字、字母、文字、特殊字符组成的文本数据，也可以是 图像、动画、影响、声音等各种形式的数据经过数字化处理后存入计算机。
  - 例如（张三，男，26，北京，19128220296）表示客户张三的信息

## 数据库（Database，DB）

- 通常被称为存储数据库的仓库，这个仓库存储在计算机存储设备上，并且所存储的数据是按一定的格式进行存储的。严格意义上讲，数据库指长期存储在计算机中 有组织的、可共享的数据集合，具有较小的冗余度、较高的数据独立性、系统易于扩展，并且可以被多个用户共享。
- `数据库中存储的数据具有永久存储、有组织和可共享三个基本特点`

## 数据库管理系统（DatabaseManagement System,DBMS)

- 是专门用于建立和管理数据库的一套软件，介于应用程序和操作系统之间。
- 科学有效的组织和存储数据，帮助数据库使用者从大量数据中快速地获取所需要的数据，以及提供必要的安全性和完整性，实现对数据有效的管理和维护。

1. 数据定义功能
   - 用户可以通过数据库管理系统提供数据定义语言（DDL）定义数据库中的数据对象，`包括表、视图、存储过程、触发器等`
2. 数据操纵功能
   - 用户可以通过数据库管理系统提供的数据操纵语言（DML）操作数据库中的数据，实现数据的`查询、插入、删除和修改等`
3. 数据库的运行管理功能
   - 数据库中可以提供多个用户同时使用共享数据，保证安全性、可靠性，并且开提供了控制和管理机制，从而数据不会被互相干扰的情况下并发使用，并且在故障是能够正确恢复
4. 数据库的建立和维护功能
   - 包括创建数据库及对数据库空间的维护、备份与恢复，重组织和性能监控、分析等。
5. 数据组织、存储和管理功能
   - 为提高数据存储效率，数据库管理系统需要对数据进行分类存储和管理。一般数据库管理系统会根据组织和存储方式提供多种存取方法、例如 索引查找，顺序查找等。

## 数据库系统（Database System，DBS）

- 是指在计算机中引入数据库技术之后的系统。通常一个完整的数据库系统包括数据库、数据库管理系统以及相关实用工具、应用程序、数据库管理员和用户
  - 其中DBA用来维护数据库正常运行，用户则是数据库系统的服务对象，其通常包括程序员和数据库终端用户，程序员通过高级设计语言(PHP JAVA)和数据库语言SQL，编写数据库应用程序。应用程序会根据需要想数据库管理系统发出合适的请求，再有数据库管理系统对数据库进行执行相应的操作，而终端用户则是从客户机或联机终端上交互方式向数据库系统提出请求，并由数据库管理系统响应执行，而后访问数据库中的数据
- 此外，一般在不引起混淆的情况下，常常将数据库管理系统简称为数据库。

# 第二章 数据管理技术的发展

## 数据库管理阶段分为

- 人工管理阶段

  - 20世纪50年代，主要通过手动的方式进行数据处理，一切靠人

    1. 数据不保存
       - 一组数据对应一个成勋，数据空间随着空间一切被释放

    2. 应用成勋管理数据
       - 当时没有数据库管理软件，数据库的设计工作，有应用程序的编写人员来完成。

    3. 数据面向应用
       - 一个数据只能对应一个程序，当多个应用程序 涉及某些数据时，必须各自定义，不能共享，因此程序与程序之间存在大量的冗余数据，数据的独立性差。

![image-20240530092527349](https://github.com/liuzhenhua1223/Image/blob/master//PGSQL/image-20240530092527349.png?raw=true)

## 文件系统管理阶段

- 文件系统是将 数据的`逻辑结构`和`物理结构`分离，由`存放方法`实现逻辑结构与物理结构之间的映射。`应用程序`只涉及数据`逻辑结构` `系统确定`数据的`物理结构`

- 这样当物理结构发生变化时，不会导致逻辑结构的修改，这成为数据的为例独立性

  ---

  可以理解为：逻辑结构就是数据(data)，物理结构(操作系统),当操作系统或者底层出现变化时，只要能提供操作系统或底层设备，就能正常运行逻辑结构数据

## 数据库系统管理阶段

### 数据集成

- 通过对数据的逻辑结构和物理结构的分离，当对应用进行增加等操作时，只对数据的逻辑结构发生关系。

- 这样可使数据得到最大程度的共享，且冗余最小

### 数据共享性高

- 数据共享指，在数据库中，一个数据库可以为多个不用的用户共同使用，各个用户可以为了不同的目的来存取 数据，并且他们是从不同的角度来看待数据库，即一个数据库有多个不同用户视图

### 数据冗余小

- 例如：学生学籍、学校图书馆应用、学校校园卡管理应用中，每一个应用都拥有一个包含学生信息的文件。而且对于数据库方法，这些独立而且有冗余的数据文件被集成为单一的逻辑结构，并且每一个数据项的值可以理想地只存储一次，从而节约存储空间，避免数据的重复存储。
- 但 并不是所有的冗余都应该被消除 ，有时，由于应用业务或技术上的原因，如果数据合法性校验、数据存取效率等方面，可以能就需要保持多个副本。因此，在数据库系统中，冗余是受控制的，保留必要的冗余也是系统预定的。

### 数据一致性

- 例如：一个学生的学号信息存储在数据库的两个记录中，当该学生应为调专业而需要更新他的学号时，若无控制，且只更新一个记录时，则会引起同一数据的两个副本的不一致性，此时数据库是不一致的。
- 显然引起不一致的根源是数据冗余。要是数据库只存储一次，则不会发生不一致行。但冗余又是避免不了的，所以，当发生更新时，数据库本身可以通过更新所有的其他副本来自动保持数据的一直性

### 数据独立性高

- **逻辑独立性**：
  - 想象你有一张表格，这张表格的数据可以通过不同的方式显示给不同的用户（或者应用程序）。
  - 比如，你有一张学生成绩表，老师看的是所有成绩，学生看到的只是自己的成绩，校长看到的是年级的平均成绩。
  - 如果某个应用程序（比如老师的应用程序）需要一些修改，比如增加一些功能，这时候只需要修改这个应用程序的视图，而不用去动表格本身。
  - 反过来，如果需要在表格里加一列数据，比如学生的手机号，只要不影响视图，应用程序也不需要修改。
  - 这种不互相干扰的特性，就是逻辑独立性。

### **物理独立性**：

- 想象你的数据存储在某个地方，可能是一台服务器，也可能是一个硬盘。
- 现在，如果你想换一种存储方式，比如从硬盘换到固态硬盘，或者换一个更快的数据库系统，只要这些改变不影响数据本身的定义（比如数据结构、数据内容），那么你就不用修改任何使用这些数据的应用程序。
- 应用程序继续照常运行，而不需要知道底层数据存储发生了什么变化。
- 这种随便换存储方式却不影响应用程序的特性，就是物理独立性。

---

现代的数据库系统中，通过数据独立性，你可以轻松应对这些变化而不需要频繁修改应用程序

---

### 实施统一管理与控制

- 主要包括数据的安全性、完整性、并发控制与故障恢复等，即数据库保护
- 数据安全性
  - 确保数据不被非法访问或破坏
  - 只有有权限的用户才能查看或修改特定数据
  - 比如，只有管理员才能看到用户的密码。
- 数据完整性
  - 确保数据正确、有效、符合规则
  - 数据必须在合理范围内，满足一定条件
  - 比如，性别字段只能是`男`或`女`
- 并发控制
  - 方式多个用户同时修改数据产生冲突
  - 确保同时操作数据不会导致错误
  - 比如，多个用户同时购买一张火车票，系统能正确处理。
- 故障恢复
  - 处理硬件故障，操作失误或人为损坏导致的数据损失
  - 能将数据库恢复到出错前的正确状态
  - 比如，断电后恢复到最近保存的数据状态

---

这样，数据库系统能统一管理和保护数据，确保数据安全、正确并在多用户环境中正常运行。

---

### 减少应用程序开发与维护的工作量

- 在数据库上开发与维护新的应用所花费的代价和时间大大减少。
- 数据库中，具有共享性和独立性，所以编程人员不需要承担基本数据文件设计。
- 应对数据变动，数据库中的类型、关系、存储方式变了，不需要大幅修改应用程序。传动文件系统中，数据变量就得重写程序，但数据库环境下，只需要小改动。

# Postgresql

### 什么是数据库

数据库（Database，DB）是一个长期存储在计算机内的、有组织的、有共享的统一管理的数据集合

- 保管数据的“创库”
- 数据管理的方法和技术

### 数据表的概念

- 数据库表：是一系列`二维数组的集合`
- 横向的行(记录、行)
- 纵向（字段、属性、列）

![image-20240529230301119](https://github.com/liuzhenhua1223/Image/blob/master//PGSQL/image-20240529230301119.png?raw=true)

### 数据类型的概念

- 常用数据类型：
  - 整数数据类型
  - 浮点数据类型
  - 日期/时间数据类型
  - 字符串数据类型
  - 二进制数据类型

![image-20240529230244329](https://github.com/liuzhenhua1223/Image/blob/master//PGSQL/image-20240529230244329.png?raw=true)

### 数据库系统的构成

- 数据库（以数据为载体进行保存的软件）
- 数据库管理系统（面向数据库管理人员）
- 数据库应用程序 (面向普通用户)

![image-20240529230301119.png](https://github.com/liuzhenhua1223/Image/blob/master/PGSQL/image-20240529230301119.png?raw=true)

### SQL语言

SQL是对数据库进行查询和修改操作语言。

SQL语言包含4个部分：

- DDL 数据库定义语言：DROP CREATE ALTER
- DML 数据库操作语言： INSET UPDATA DELETE
- DQL 数据库查询语言： SELEDT
- SCL 数据库控制余元： GRANT REVOKE COMMIT ROLLBACK

### 常用的数据库访问技术

- ODBC (Open Database Connectivity)开放数据库连接
- JDBC (Java Database Connctivity) Java数据库连接

- PDO：PHP语言访问技术

## 

